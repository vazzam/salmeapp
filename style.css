
@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap');

/* Añadir al inicio del CSS, debajo de las importaciones existentes */

.app-header {
    position: fixed;
    top: 0;
    left: 0;
    width: 90%;
    background: rgba(82, 4, 170, 0.623);
    /* Removed backdrop-filter for performance; blur is expensive on mobile */
    padding: 1.25rem 2rem;
    z-index: 1000;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); /* Simplified shadow (single layer, smaller) */
    display: flex;
    justify-content: center; /* Centrar todo el contenido */
    align-items: center;
    overflow: hidden;
    border-bottom-left-radius: 200px;
    border-bottom-right-radius: 200px;
    transition: padding var(--transition-normal) ease, height var(--transition-normal) ease;
    height: 50px;
}

/* Estado reducido al hacer scroll */
.app-header.scrolled {
    padding: 0.75rem 2rem;
    height: 60px;
}

/* Contenedor para logo y título */
.app-header .header-content {
    display: flex;
    align-items: center;
    gap: 1rem; /* Espacio entre logo y título */
}

/* Estilo del logotipo */
.app-header .logo {
    height: 35px; /* Tamaño inicial del logo */
    width: auto;
    transition: height var(--transition-normal) ease;
}

/* Reducir el logo al hacer scroll */
.app-header.scrolled .logo {
    height: 30px;
}

/* Título del header */
.app-header h1 {
    margin: 0;
    font-size: 1.8rem;
    font-weight: 700;
    letter-spacing: 1.2px;
    background: linear-gradient(120deg, var(--header-primary), var(--header-secondary), var(--header-accent));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-transform: uppercase;
    text-align: center;
    position: relative;
    padding: 0.3rem 0; /* Reducido el padding lateral */
    z-index: 1;
    transition: font-size var(--transition-normal) ease;
}

/* Ajuste del título al hacer scroll */
.app-header.scrolled h1 {
    font-size: 1.4rem;
}

/* Removed ::before pseudo-element and rotateGlow animation for performance */

/* Removed h1::after and hover effects; hover not needed on mobile, reduces layers */

/* Removed rotateGlow @keyframes */

/* Animación de entrada (kept but shortened duration) */
@keyframes headerReveal {
    0% {
        opacity: 0;
        transform: translateY(-30px) scale(0.9);
    }
    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.app-header {
    animation: headerReveal 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; /* Shortened from 0.7s */
}

.header-icon-container {
    position: absolute;
    right: 2rem;
    display: flex;
    gap: 1.25rem; /* Aumentado ligeramente para 3 íconos */
    align-items: center;
}

/* Estilo base para los botones con íconos */
.icon-button {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 2.5rem;
    height: 2.5rem;
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-full);
    border: 0px solid var(--border-color);
    transition: background-color var(--transition-normal) ease; /* Limited transition to background only */
    cursor: pointer;
    box-shadow: var(--shadow-sm);
}

/* Removed hover/active transforms and shadows for mobile perf; keep simple */

/* Estilo para los íconos SVG */
.icon-button svg {
    width: 1.25rem;
    height: 1.25rem;
    fill: var(--text-color);
    transition: fill var(--transition-fast) ease;
}

.icon-button:hover svg {
    fill: white;
}

/* Ajustes para el header al incluir los íconos */
.app-header {
    padding-right: 5rem; /* Espacio para los íconos a la derecha */
}

/* Media query para móviles */
@media (max-width: 768px) {
    .header-icon-container {
        right: 1.5rem;
        gap: 0.75rem; /* Espacio adecuado para 3 íconos */
    }

    .icon-button {
        width: 1.8rem; /* Reducido para pantallas pequeñas */
        height: 1.8rem;
        transition: none; /* Remove transitions on mobile */
    }

    .icon-button svg {
        width: 0.9rem;
        height: 0.9rem;
    }

    .app-header {
        padding-right: 4.5rem; /* Ajustado para 3 íconos */
        box-shadow: none; /* Remove shadow on mobile */
        transition: none; /* No transitions on mobile */
    }
}

/* Ajustar el contenedor principal */
.stApp {
    padding-top: 90px;
    background: var(--background-color);
    /* Simplified to single gradient for perf */
    background-image: radial-gradient(at 40% 20%, rgba(96, 165, 250, 0.1) 0px, transparent 50%);
    background-attachment: fixed;
    color: var(--text-color);
    transition: padding-top var(--transition-normal) ease;
}

.stApp.scrolled {
    padding-top: 70px;
}

/* Ocultar header por defecto de Streamlit */
/*header[data-testid="stHeader"] {
    display: none;
}*/

/* Media query para móviles */
@media (max-width: 768px) {
    .app-header {
        padding: 1rem 1.5rem;
        height: 70px;
        border-bottom-left-radius: 15px;
        border-bottom-right-radius: 15px;
        transition: none; /* Remove transitions */
    }

    .app-header.scrolled {
        padding: 0.5rem 1.5rem;
        height: 50px;
    }

    .app-header .logo {
        height: 30px;
    }

    .app-header.scrolled .logo {
        height: 25px;
    }

    .app-header h1 {
        font-size: 1.4rem;
        padding: 0.25rem 0;
    }

    .app-header.scrolled h1 {
        font-size: 1.2rem;
    }

    .app-header .header-content {
        gap: 0.75rem; /* Menor espacio en móviles */
    }

    .stApp {
        padding-top: 80px;
        background-image: none; /* Remove gradients on mobile for perf */
    }

    .stApp.scrolled {
        padding-top: 60px;
    }
}

/* Media query para móviles (repeated, but kept for consistency) */
@media (max-width: 768px) {
    .app-header {
        padding: 1rem 1.5rem;
        height: 70px;
        border-bottom-left-radius: 15px;
        border-bottom-right-radius: 15px;
    }

    .app-header.scrolled {
        padding: 0.5rem 1.5rem;
        height: 50px;
    }

    .app-header .logo {
        height: 50px;
    }

    .app-header.scrolled .logo {
        height: 25px;
    }

    .app-header h1 {
        font-size: 1.4rem;
        padding: 0.25rem 1rem;
    }

    .app-header.scrolled h1 {
        font-size: 1.2rem;
    }

    .stApp {
        padding-top: 80px;
    }

    .stApp.scrolled {
        padding-top: 60px;
    }
}

/*#MainMenu {visibility: hidden;}
header {visibility: hidden;}*/

/* Si se quiere ocultar el boton deploy */
.stDeployButton {display: none;}
/* Ajuste para hacer visible el header original de Streamlit */
/* Variables del tema */
:root {
    /* Colores principales */
    --primary-color: #6366f1;
    --primary-hover: #4f46e5;
    --secondary-color: #10b981;
    --accent-color: #ffffff;
    --success-color: #22c55e;
    --warning-color: #f59e0b;
    --error-color: #ef4444;

    /* Colores de fondo y texto */
    --background-color: #f8fafc;
    --card-bg: #ffffff;
    --text-color: #1e293b;
    --text-light: #64748b;

    /* Elementos de la interfaz */
    --border-color: #e2e8f0;
    --border-hover: #cbd5e1;
    --input-bg: #f1f5f9;

    /* Sombras (simplified to single layer) */
    --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.04);
    --shadow-md: 0 4px 6px rgba(15, 23, 42, 0.08);
    --shadow-lg: 0 10px 15px rgba(15, 23, 42, 0.1);
    --shadow-xl: 0 20px 25px rgba(15, 23, 42, 0.1);

    /* Bordes */
    --radius-sm: 4px;
    --radius-md: 8px;
    --radius-lg: 12px;
    --radius-full: 9999px;

    /* Tiempos de animación (shortened for perf) */
    --transition-fast: 100ms;
    --transition-normal: 200ms;
    --transition-slow: 300ms;
}

/* Tema oscuro */
@media (prefers-color-scheme: dark) {
    :root {
        --primary-color: #818cf8;
        --primary-hover: #a5b4fc;
        --secondary-color: #34d399;
        --accent-color: #ffffff;
        --background-color: #0f172a;
        --card-bg: #1e293b;
        --text-color: #f1f5f9;
        --text-light: #94a3b8;
        --border-color: #334155;
        --border-hover: #47556900;
        --input-bg: #1e293b;
    }
}

/* Estilos base */
html, body, [class*="css"] {
    font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif;
}

/* Contenedor del titulo principal */
.title-container {
    display: flex;
    justify-content: center; /* Centra horizontalmente */
    align-items: top; /* Centra verticalmente */
    width: 100%; /* Ocupa todo el ancho del header */
    padding: 0.2rem 0; /* Espaciado interno */
}

/* Estilos para el título principal */
.title-container h1 {
    font-size: 3.5rem; /* Tamaño de fuente más grande */
    font-weight: 700; /* Negrita */
    margin: 0; /* Elimina márgenes */
    background: linear-gradient(90deg, var(--primary-color), var(--secondary-color)); /* Gradiente */
    -webkit-background-clip: text; /* Aplica el gradiente al texto */
    -webkit-text-fill-color: transparent; /* Texto transparente */
    background-clip: text;
}

.stApp {
    background: var(--background-color);
    /* Simplified gradients */
    background-image: radial-gradient(at 40% 20%, rgba(99, 102, 241, 0.1) 0px, transparent 50%);
    background-attachment: fixed;
    color: var(--text-color);
}

/* Contenedor principal para añadir efecto de glassmorphism (removed backdrop-filter) */
.main > div {
    background: rgba(255, 255, 255, 0.05);
    border-radius: var(--radius-lg);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Barra lateral */
.css-1d391kg, .css-12oz5g7 {
    background-color: var(--card-bg);
    border-right: 1px solid var(--border-color);
    box-shadow: var(--shadow-md);
}

/* Removed fadeIn, slideIn, scaleIn @keyframes and animations for perf; add back if needed but test */

/* Bloques con animación (removed animation and hover for perf) */
div[data-testid="stBlock"] {
    border-radius: var(--radius-md);
    background-color: var(--card-bg);
    border: 1px solid var(--border-color);
    padding: 1.25rem;
    margin-bottom: 1.25rem;
    box-shadow: var(--shadow-md);
    transition: none; /* No transitions */
}

/* Contenedores de bloques horizontales */
[data-testid="stHorizontalBlock"] {
    gap: 1.25rem;
}

[data-testid="stHorizontalBlock"] > div {
    /* Removed animation */
}

/* Botones con animaciones (simplified, removed ::before/::after and ripple effects) */
.stButton > button {
    position: relative;
    overflow: hidden;
    background-color: var(--primary-color);
    color: white;
    border: none;
    font-weight: 600;
    padding: 0.625rem 1.25rem;
    border-radius: var(--radius-full);
    cursor: pointer;
    transition: background-color var(--transition-fast) ease; /* Limited to background */
    box-shadow: var(--shadow-sm);
    text-transform: uppercase;
    font-size: 0.875rem;
    letter-spacing: 0.025em;
}

.stButton > button:hover {
    background-color: var(--primary-hover);
}

.stButton > button:active {
    /* Removed transform */
}

/* Botones con colores diferentes */
.stButton.secondary > button {
    background-color: var(--secondary-color);
}

.stButton.accent > button {
    background-color: var(--accent-color);
}

/* Inputs y selectores modernos (removed animations, limited transitions for typing perf) */
.stTextInput > div,
.stSelectbox > div,
.stNumberInput > div,
.stTextArea > div {
    /* Removed animation */
}

.stTextInput > div > div > input,
.stMultiSelect > div > div > div,
.stSelectbox > div > div > div,
.stNumberInput > div > div > input,
.stTextArea > div > div > textarea {
    background-color: var(--input-bg);
    color: var(--text-color);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    padding: 0.425rem;
    transition: border-color var(--transition-fast) ease; /* Only border, no all */
}

.stTextInput > div > div > input:focus,
.stSelectbox > div > div > div:focus,
.stNumberInput > div > div > input:focus,
.stTextArea > div > div > textarea:focus {
    border-color: var(--primary-color);
    /* Removed shadow on focus for perf */
    background-color: var(--card-bg);
}

/* Desplegables (removed transitions and hovers) */
.streamlit-expanderHeader {
    border-radius: var(--radius-md);
    border: 1px solid var(--border-color);
    background-color: var(--card-bg);
    overflow: hidden;
}

.streamlit-expanderContent {
    /* Removed animation */
    border-radius: 0 0 var(--radius-md) var(--radius-md);
    border: 1px solid var(--border-color);
    border-top: none;
    padding: 1rem;
    background-color: var(--card-bg);
}

/* Pestañas (removed animations and gradients) */
.stTabs [data-baseweb="tab-list"] {
    gap: 2px;
    background-color: var(--input-bg);
    border-radius: var(--radius-full);
    padding: 0.25rem;
    margin-bottom: 1rem;
}

.stTabs [data-baseweb="tab"] {
    border-radius: var(--radius-full);
    padding: 0.5rem 1rem;
    margin: 0 0.125rem;
    font-weight: 500;
    transition: none;
}

.stTabs [aria-selected="true"] {
    background-color: var(--primary-color);
    color: white;
    font-weight: 600;
}

.stTabs [data-baseweb="tab-panel"] {
    /* Removed animation */
}

/* Tablas (simplified, removed animations and hovers) */
.stDataFrame {
    border-radius: var(--radius-md);
    overflow: hidden;
    box-shadow: var(--shadow-md);
}

.stDataFrame table {
    border-collapse: separate;
    border-spacing: 0;
    width: 100%;
}

.stDataFrame thead {
    background: rgba(99, 102, 241, 0.1); /* Simplified single color */
}

.stDataFrame th {
    padding: 0.75rem 1rem;
    text-align: left;
    font-weight: 600;
    color: var(--text-color);
    border-bottom: 2px solid var(--primary-color);
}

.stDataFrame td {
    padding: 0.75rem 1rem;
    border-bottom: 1px solid var(--border-color);
    /* Removed transition */
}

.stDataFrame tbody tr:last-child td {
    border-bottom: none;
}

/* Checkbox y Radio (removed hovers and transitions) */
.stCheckbox > div > label,
.stRadio > div > label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
    padding: 0.25rem;
    border-radius: var(--radius-sm);
}

/* Barras de progreso (removed pulse animation) */
.stProgress > div > div > div {
    background: var(--primary-color); /* Simplified to solid color */
    border-radius: var(--radius-full);
    height: 0.5rem !important;
}

.stProgress {
    padding: 0.25rem 0;
}

/* Tooltips y elementos flotantes (simplified shadows) */
[data-baseweb="tooltip"], [data-baseweb="popover"] {
    background-color: var(--card-bg);
    color: var(--text-color);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-md); /* Lighter shadow */
}

/* Encabezados con estilo (removed ::after and hovers) */
h1, h2 {
    position: relative;
    display: inline-block;
    margin-bottom: 1.5rem;
    font-weight: 700;
}

h1 {
    font-size: 2rem;
    line-height: 2.5rem;
    background: linear-gradient(90deg, var(--text-color), var(--primary-color));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

h2 {
    font-size: 1.5rem;
    line-height: 2rem;
}

/* Mejorar legibilidad y espaciado */
.stMarkdown {
    line-height: 1.7;
}

p {
    margin-bottom: 1.25rem;
}

/* Removed page transitions and smoothScroll for perf */

/* Removed icon-btn effects */

/* Removed floating-card effects */

/* Estilo para banners y alertas (removed ::before and shine animation) */
.banner {
    background: var(--primary-color); /* Simplified to solid */
    color: white;
    padding: 1rem;
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-md);
    margin-bottom: 1.5rem;
    position: relative;
    overflow: hidden;
}

/* Tarjetas para estadísticas o KPIs (removed hovers) */
.metric-card {
    background-color: var(--card-bg);
    border-radius: var(--radius-md);
    padding: 1.5rem;
    border-bottom: 3px solid var(--primary-color);
    box-shadow: var(--shadow-md);
}

.metric-card h3 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
    background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

/* Personalización de scrollbar (simplified) */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: var(--input-bg);
    border-radius: var(--radius-full);
}

::-webkit-scrollbar-thumb {
    background: var(--primary-color);
    border-radius: var(--radius-full);
}

/* Removed pageTransition animations */

/* Interruptores personalizados (removed transitions) */
.css-zt5igj[role="switch"] {
    background-color: var(--input-bg);
    border: 1px solid var(--border-color);
}

.css-zt5igj[role="switch"][aria-checked="true"] {
    background-color: var(--primary-color);
    border-color: var(--primary-color);
}

/* Removed spinner animation */

/* Simplified button styles (removed ::before/::after, gradients, animations) */
.stButton > button {
    position: relative;
    background: var(--card-bg);
    color: white;
    border: none;
    font-weight: 800;
    padding: 0.8rem 2.2rem;
    border-radius: 8px;
    cursor: pointer;
    transition: background var(--transition-normal) ease;
    font-size: 1.3rem;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
    overflow: hidden;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

/* Removed pulseFrame and all pseudo-elements for perf */

/* Hover: Simplified */
.stButton > button:hover {
    color: white;
    /* Removed transform and extra shadows */
}

/* Active: Simplified */
.stButton > button:active {
    /* Removed transform */
}

/* Removed responsivity adjustments for buttons; use media query below */

@media (max-width: 768px) {
    .stButton > button {
        padding: 0.65rem 1.8rem;
        font-size: 0.85rem;
        box-shadow: none; /* No shadows on mobile */
        transition: none; /* No transitions */
    }
}

/* Removed specific adjustments for long buttons */

/* Sidebar hiding (kept as is) */
[data-testid="stSidebar"] {
    display: none;
}

[data-testid="stSidebarCollapsedControl"],
[data-testid="stSidebarToggle"], /* Posibles identificadores */
button[title="Open sidebar"], /* Botón con atributo title */
div[class*="sidebar-collapse"] { /* Clases parciales relacionadas */
    display: none !important;
}

[data-testid="stSidebarNav"] {
    display: none !important;
}

/* secondaryFormSubmit (simplified like regular buttons) */
button[kind="secondaryFormSubmit"] {
    position: relative;
    background: rgba(19, 159, 194, 0.582);
    color: white;
    border: none;
    font-weight: 700;
    padding: 0.9rem 2.4rem;
    border-radius: 8px;
    cursor: pointer;
    transition: background var(--transition-normal) ease;
    font-size: 0.95rem;
    letter-spacing: 0.14em;
    text-transform: uppercase;
    box-shadow: 0 3px 10px rgba(99, 102, 241, 0.15);
    overflow: hidden;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

/* Removed ::before/::after, animations, etc. for perf */

/* Hover/Active: Simplified */
button[kind="secondaryFormSubmit"]:hover {
    /* Removed transform and extra */
}

button[kind="secondaryFormSubmit"]:active {
    /* Removed */
}

/* Removed pulseFrameSubmit */

/* Responsivity */
@media (max-width: 768px) {
    button[kind="secondaryFormSubmit"] {
        padding: 0.75rem 2rem;
        font-size: 0.9rem;
        box-shadow: none;
        transition: none;
    }
}
/* --- CÓDIGO CONSOLIDADO Y ROBUSTO PARA REPOSICIONAR EL MENÚ --- */

/* 1. Anulamos cualquier estilo que oculte el header de Streamlit y lo posicionamos */
header[data-testid="stHeader"] {
    /* FORZAMOS la visibilidad del contenedor */
    display: block !important;
    visibility: visible !important;
    
    /* Lo posicionamos de forma fija en la pantalla */
    position: fixed !important;
    
    /* ¡CLAVE! Un z-index muy alto para que esté por encima de todo */
    z-index: 1002 !important;

    /* Le quitamos cualquier fondo, borde o sombra que pueda tener */
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;

    /* --- ¡AJUSTA ESTOS VALORES PARA LA POSICIÓN PERFECTA! --- */
    top: 150px;      /* Distancia desde arriba */
    right: 120px;  /* Distancia desde la derecha (a la izquierda de tus iconos) */

    /* === PASO DE DEPURACIÓN === */
    /* Descomenta la siguiente línea para ver un cuadrado rojo donde está el menú. */
    /* Si no ves el cuadrado rojo, el selector puede haber cambiado. */
    /* background-color: rgba(255, 0, 0, 0.5) !important;  */
}

/* 2. Nos aseguramos de que el botón DENTRO del header también sea visible */
#MainMenu {
    visibility: visible !important;
}

/* 3. (Opcional) Intentamos dar estilo al color del icono para que coincida */
button[title="View app menu"] svg {
    fill: var(--text-color) !important;
}

/* 4. Ajuste final para móviles */
@media (max-width: 768px) {
    header[data-testid="stHeader"] {
        top: 15px !important;
        right: 85px !important;
    }
}
